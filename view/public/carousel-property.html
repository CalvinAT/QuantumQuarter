<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./output.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <script
    src="https://code.jquery.com/jquery-3.3.1.js"
    integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
    crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script>
        const queryParams2 = new URLSearchParams(window.location.search);
        if (queryParams2.has('id')) {
            const propertyId = queryParams2.get('id');
            console.log(propertyId)
            const formData = new FormData();
            formData.append('id', propertyId);
            fetch('http://localhost:3000/getdetailedproperty', {
                method: 'POST',
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    const agent = data.agentResult;
                    const wa = agent.whatsapp.slice(1);
                    const property = data.data;
                    const myDiv = document.getElementById('carouselInner');
                    let htmlCode = `
                    <div class="carousel-item active">
                        <a class="bg-white flex rounded-3xl mx-[23%] my-[3%] hover:decoration-inherit hover:no-underline z-10">
                            <image id="ci1" class="rounded-3xl " src="${property.images[0]}"></image>
                        </a>
                    </div>
                    <div class="carousel-item">
                        <a class="bg-white flex rounded-3xl mx-[23%] my-[3%] hover:decoration-inherit hover:no-underline z-10">
                            <image id="ci2" class="rounded-3xl " src="${property.images[1]}"></image>
                        </a>
                    </div>
                    <div class="carousel-item">
                        <a class="bg-white flex rounded-3xl mx-[23%] my-[3%] hover:decoration-inherit hover:no-underline z-10">
                            <image id="ci3" class="rounded-3xl " src="${property.images[2]}"></image>
                        </a>
                    </div>
                    <div class="carousel-item">
                        <a class="bg-white flex rounded-3xl mx-[23%] my-[3%] hover:decoration-inherit hover:no-underline z-10">
                            <image id="ci4" class="rounded-3xl " src="${property.images[3]}"></image>
                        </a>
                    </div>
                    <div class="carousel-item">
                        <a class="bg-white flex rounded-3xl mx-[23%] my-[3%] hover:decoration-inherit hover:no-underline z-10">
                            <image id="ci5" class="rounded-3xl " src="${property.images[4]}"></image>
                        </a>
                    </div>
                    `;
                    myDiv.innerHTML = htmlCode
                })
                .catch(error => {
                    // Handle any errors
                    console.error('Error:', error);
                });
        } else {
            alert("Property not found");
            window.location.href = "index.html";
        }
    </script>
  </head>

  <body>
        <div id="carouselExampleControls" class=" carousel slide w-30" data-bs-ride="carousel">
            <div id="carouselInner" class="carousel-inner">
                <div class="carousel-item active">
                    <a class="bg-white flex rounded-3xl mx-[23%] my-[3%] hover:decoration-inherit hover:no-underline z-10">
                        <image id="ci1" class="rounded-3xl " src="https://storage.googleapis.com/quantum-quarters-property/House/kQ0xvHNm/rumah1.jpg"></image>
                    </a>
                </div>
                <div class="carousel-item">
                    <a class="bg-white flex rounded-3xl mx-[23%] my-[3%] hover:decoration-inherit hover:no-underline z-10">
                        <image id="ci2" class="rounded-3xl " src="https://storage.googleapis.com/quantum-quarters-property/House/kQ0xvHNm/rumah1.jpg"></image>
                    </a>
                </div>
                <div class="carousel-item">
                    <a class="bg-white flex rounded-3xl mx-[23%] my-[3%] hover:decoration-inherit hover:no-underline z-10">
                        <image id="ci3" class="rounded-3xl " src="https://storage.googleapis.com/quantum-quarters-property/House/kQ0xvHNm/rumah1.jpg"></image>
                    </a>
                </div>
                <div class="carousel-item">
                    <a class="bg-white flex rounded-3xl mx-[23%] my-[3%] hover:decoration-inherit hover:no-underline z-10">
                        <image id="ci4" class="rounded-3xl " src="https://storage.googleapis.com/quantum-quarters-property/House/kQ0xvHNm/rumah1.jpg"></image>
                    </a>
                </div>
                <div class="carousel-item">
                    <a class="bg-white flex rounded-3xl mx-[23%] my-[3%] hover:decoration-inherit hover:no-underline z-10">
                        <image id="ci5" class="rounded-3xl " src="https://storage.googleapis.com/quantum-quarters-property/House/kQ0xvHNm/rumah1.jpg"></image>
                    </a>
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span><image src="./asset/prev.png" aria-hidden="true"></image></span>
            <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span><image src="./asset/next.png" aria-hidden="true"></image></span>
            <span class="sr-only">Next</span>
            </a>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        </div>
    </body>
  </html>